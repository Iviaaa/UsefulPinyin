/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/pinyinjs@2.2.1/src/pinyin.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var Segment=require("segment").Segment,segment=new Segment;segment.useDefault();var PHRASES_DICT=require("./phrases-dict"),PINYIN_DICT=require("./dict-zi"),INITIALS="zh,ch,sh,b,p,m,f,d,t,n,l,g,k,h,j,q,x,r,z,c,s,yu,y,w".split(","),FINALS="ang,eng,ing,ong,an,en,in,un,er,ai,ei,ui,ao,ou,iu,ie,ve,a,o,e,i,u,v".split(","),PINYIN_STYLE={NORMAL:0,TONE:1,TONE2:2,INITIALS:3,FIRST_LETTER:4},PHONETIC_SYMBOL=require("./phonetic-symbol.js"),re_phonetic_symbol_source="";for(var k in PHONETIC_SYMBOL)re_phonetic_symbol_source+=k;var RE_PHONETIC_SYMBOL=new RegExp("(["+re_phonetic_symbol_source+"])","g"),RE_TONE2=/([aeoiuvnm])([0-4])$/,DEFAULT_OPTIONS={style:PINYIN_STYLE.TONE,heteronym:!1};function extend(e,n){var r={};for(var t in e)n.hasOwnProperty(t)?r[t]=n[t]:r[t]=e[t];return r}function toFixed(e,n){var r="";switch(n){case PINYIN_STYLE.INITIALS:return initials(e);case PINYIN_STYLE.FIRST_LETTER:var t=e.charAt(0);return PHONETIC_SYMBOL.hasOwnProperty(t)&&(t=PHONETIC_SYMBOL[t].charAt(0)),t;case PINYIN_STYLE.NORMAL:return e.replace(RE_PHONETIC_SYMBOL,function(e,n){return PHONETIC_SYMBOL[n].replace(RE_TONE2,"$1")});case PINYIN_STYLE.TONE2:return e.replace(RE_PHONETIC_SYMBOL,function(e,n){return r=PHONETIC_SYMBOL[n].replace(RE_TONE2,"$2"),PHONETIC_SYMBOL[n].replace(RE_TONE2,"$1")})+r;case PINYIN_STYLE.TONE:default:return e}}function single_pinyin(e,n){if("string"!=typeof e)return[];if(1!==e.length)return single_pinyin(e.charAt(0),n);n=extend(DEFAULT_OPTIONS,n);var r=e.charCodeAt(0);if(!PINYIN_DICT[r])return[e];var t=PINYIN_DICT[r].split(",");if(!n.heteronym)return[toFixed(t[0],n.style)];for(var I,i={},T=[],N=0,E=t.length;N<E;N++)I=toFixed(t[N],n.style),i.hasOwnProperty(I)||(i[I]=I,T.push(I));return T}function phrases_pinyin(e,n){var r=[];if(PHRASES_DICT.hasOwnProperty(e))(r=PHRASES_DICT[e].slice()).forEach(function(e,r,t){t[r]=[toFixed(e[0],n.style)]});else for(var t=0,I=e.length;t<I;t++)r.push(single_pinyin(e[t],n));return r}function pinyin(e,n){if("string"!=typeof e)return[];n=extend(DEFAULT_OPTIONS,n);for(var r,t,I=segment.doSegment(e),i=(e.length,[]),T=0,N="",E=I.length;T<E;T++)r=(t=I[T].w).charCodeAt(0),PINYIN_DICT[r]?(N.length>0&&(i.push([N]),N=""),1===t.length?i.push(single_pinyin(t,n)):i=i.concat(phrases_pinyin(t,n))):N+=t;return N.length>0&&(i.push([N]),N=""),i}function initials(e){for(var n=0,r=INITIALS.length;n<r;n++)if(0===e.indexOf(INITIALS[n]))return INITIALS[n];return""}module.exports=pinyin,module.exports.STYLE_NORMAL=PINYIN_STYLE.NORMAL,module.exports.STYLE_TONE=PINYIN_STYLE.TONE,module.exports.STYLE_TONE2=PINYIN_STYLE.TONE2,module.exports.STYLE_INITIALS=PINYIN_STYLE.INITIALS,module.exports.STYLE_FIRST_LETTER=PINYIN_STYLE.FIRST_LETTER;
//# sourceMappingURL=/sm/d0b777f0f63df8ea579c0b8ffbd1f738f4edd23eb5de9a161196dd182c9e533b.map